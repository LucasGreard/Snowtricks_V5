{% extends 'base.html.twig' %}

{% block title %}Figures
{% endblock %}

{% block body %}
	<h1>Figures</h1>

	<table class="table">
		<tbody>
			<tr>
				<th>Id</th>
				<td>{{ figure.id }}</td>
			</tr>
			<tr>
				<th>FigureName</th>
				<td>{{ figure.figureName }}</td>
			</tr>
			<tr>
				<th>FigureDescription</th>
				<td>{{ figure.figureDescription }}</td>
			</tr>
			<tr>
				<th>FigureGroup</th>
				<td>{{ figure.FigureGroup }}</td>
			</tr>
			<tr>
				<th>FigureAuthor</th>
				<td>{{ figure.figureAuthor }}</td>
			</tr>
			<tr>
				<th>FigureDateAdd</th>
				<td>{{ figure.figureDateAdd ? figure.figureDateAdd|date('Y-m-d H:i:s') : '' }}</td>
			</tr>
			<tr>
				<th>FigureDateModif</th>
				<td>{{ figure.figureDateModif ? figure.figureDateModif|date('Y-m-d H:i:s') : '' }}</td>
			</tr>
			<tr>
				<th>Figure Img</th>
				{% for image in figure.figureImgs %}
					<td>
						<img src="{{asset('/uploads/figures_img/' ~ image.imgName) }}" alt="Image" width="150px">
					</td>
				{% endfor %}
			</tr>
			<tr>
				<th>FigureVideo</th>
				<td>
					{{figure.figureVideo | raw}}
				</td>
			</tr>
		</tbody>
	</table>

	<a href="{{ path('figures_index') }}">back to list</a>
	{% if (is_granted('ROLE_USER') and (app.user.userLastName ~ " " ~ app.user.userFirstName) == figure.figureAuthor) %}
		<a href="{{ path('figures_edit', {'id': figure.id}) }}">edit</a>
		{{ include('figures/_delete_form.html.twig') }}
	{% endif %}


	<h2>
		Liste des commentaires
	</h2>

	{% if is_granted('ROLE_USER') %}
		<h2>
			Ajouter un commentaire
		</h2>
	{% endif %}
	{{form(commentForm)}}{% endblock %}
